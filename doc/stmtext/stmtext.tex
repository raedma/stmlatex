%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
% This is the documentation for the
% stmtext
% document class
%
% Usage
%  - Compile using 'arara stmtext.tex'
% 
% Revisions: 2019-10-27 Martin Raedel <martin.raedel@dlr.de>
%                       Initial draft
%               
% Contact:   Martin Raedel,  martin.raedel@dlr.de
%            DLR Composite Structures and Adaptive Systems
%          
%                                 __/|__
%                                /_/_/_/  
%            www.dlr.de/fa/en      |/ DLR
%
% Copyright (C) 2019-... DLR Composite Structures and Adaptive Systems
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Content                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% --------------------------- 
% Documentclass
% ---------------------------

\documentclass[%
  type=article,%
  %type=report,%
  %type=book,%
  %layout=dlr,%
  layout=koma,%
  %layout=standard,%
  %12pt,%
  page=false,%
  %institute=FA-STM,%
  %site=BS,%
  hyperref=true,%
  cleveref=true,%
  conditionallox=true,%
  conditionalloxnewpage=true,%
  date=true,%
  glossaries=true,%
  index=true,%
  listings=true%
]{stmtext}

% ---------------------------
% Build automation
% ---------------------------

% arara: pdflatex: {shell: yes, synctex: yes, interaction: nonstopmode}
% arara: pdflatex: {shell: yes, synctex: yes, interaction: nonstopmode}
% arara: pdflatex: {shell: yes, synctex: yes, interaction: nonstopmode}
% arara: makeglossaries
% arara: pdflatex: {shell: yes, synctex: yes, interaction: nonstopmode}
% arara: pdflatex: {shell: yes, synctex: yes, interaction: nonstopmode}
% arara: remove: { patterns: [ '*.acn', '*.acr', '*.alg', '*.aux', '*.bbl', '*.bcf', '*.blg', '*.dvi', '*.glg', '*.glo', '*.gls', '*.idx', '*.ilg', '*.ind', '*.ist', '*kate-swp', '*.lock', '*.lof', '*.log', '*.lol', '*.lot', '*.mw', '*.nlo', '*.out', '*.ps', '*.run.xml', '*.slg*', '*.syg*', '*.syi*', '*.synctex', '*.synctex.gz', '*.tex.backup', '*tex.kate-swp', '*.toc*', '*.user.adi*', 'stmtext-*.tex' ], recursive: yes }

% ---------------------------
% Packages
% ---------------------------

%\usepackage{stmhyperrefsetup}
\usepackage{booktabs}
\usepackage{longtable,tabu}
\usepackage{ltxtable}
\usepackage{xspace}

% ---------------------------
% Commands
% ---------------------------

\newcommand{\rmlatexname}{RM-LaTeX\xspace}
\newcommand{\rmlatexurl}{https://gitlab.dlr.de/innersource/latex-templates}

\newcommand{\stmlatexpackagelink}[1]{\href{https://github.com/raedma/stmlatex/blob/master/doc/#1/#1.pdf}{\texttt{#1}}}
\newcommand{\ctanpackagelink}[1]{\href{https://ctan.org/pkg/#1}{\texttt{#1}}}

% Subdirectory name for ltxtables
\newcommand{\tabledirname}{ZZZ_Table}
\newcommand{\tabledir}{\tabledirname/}

% ---------------------------
% Doc info
% ---------------------------

\author{Martin R\"{a}del}
\title{stmtext class description}
\subtitle{Copyright \copyright{} \the\year{} DLR FA STM\\v\formatdate[versiondatestyle]{\DTMToday}}
\date{\today}

% Document-class dependent infos for titlepage
\telnumber   {2048}
\faxnumber   {2232}
\email       {martin.raedel@dlr.de}
% \reportno    {DLR-IB-FA-BS-2018-23}
% \coauthor    {Christian Willberg}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document                         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

\begin{abstract}
\texttt{stmtext} is a wrapper documentclass around a selection of existing class layouts for \LaTeX. Additionally, it allows quick access to the modules of \texttt{stmlatex}.
\end{abstract}

\secondpage

\tableofcontents

\conditionallistoffigures  % Insert List of Figures if figures are present
\conditionallistoftables   % Insert List of Tables if tables are present
\conditionallistoflistings % Insert List of Listings if listings are present

\setcounter{currentlevel}{\basetoclevelnr}
\levelstay{About}
\label{sec:about}
\stmindex{About}

\texttt{stmtext} is supposed to be an easy-to-use interface to several other document classes with the additional use of the modules of \texttt{stmlatex}. The class addresses users who want to use certain features without initially worrying about their implementation. However, there will most certainly come a point in the learning curve of a \LaTeX{} user where this documentclass becomes insufficient. That's what's wanted. Maybe, until this point, the class has helped to bring some possibilities of \LaTeX{} closer. 

The goal is to make \LaTeX{} functionalities available to the user. It is not intended to make any changes to the document layout, despite loading the underlying document classes. The rest of the layout can be freely changed by the user.

The complete class and module system can be found at

\href{https://github.com/raedma/stmlatex}{https://github.com/raedma/stmlatex}

% \Cref{sec:options} describes the class options.

\setcounter{currentlevel}{\basetoclevelnr}
\levelstay{Options}
\label{sec:options}
\stmindex{Options}

This section describes the class options. All options are key-value-options, meaning they are set using the definition \texttt{KEY=VALUE}. It must be noted that these options can not represent the full features of the module packages. In case more advanced options are required make sure to have a look at the individual package descriptions and consider loading them individually. Maybe you find what you need.

\leveldown{Overview}

\paragraph{Boolean options}

These options can only have the values \texttt{true} or \texttt{false}.

% \begingroup
% % \renewcommand*{\arraystretch}{1.1}
% \begin{table}[htbp]
%   \caption{Boolean class options}
%   \label{tab:options:boolean}
%   \begin{longtabu} to \linewidth {>{\ttfamily}l>{\ttfamily}cX}
%   \toprule
%   %Name & Default & Description\\
%   \multicolumn{1}{c}{Key} & \rmfamily{Default value} & \multicolumn{1}{c}{Description}\\
%   \midrule
%   attachfile     \stmindex{Options!attachfile}     & false & Load the \texttt{attachfile} package at the correct position relative to \texttt{stmhyperref}\\
%   cleverref      \stmindex{Options!cleverref}      & false & Load the \texttt{cleverref} package at the correct position relative to \texttt{stmhyperref}\\
%   color          \stmindex{Options!color}          & true  & Load the \stmlatexpackagelink{stmcolors} package\\
%   conditionallox \stmindex{Options!conditionallox} & true  & Load the \stmlatexpackagelink{stmconditionallox} package\\
%   conditionalloxnewpage \stmindex{Options!conditionalloxnewpage} & true & Set the value of the \texttt{newpage} option in the \texttt{stmconditionallox} package\\
%   date           \stmindex{Options!date}           & false & Load the \stmlatexpackagelink{stmdate} package\\
%   glossaries     \stmindex{Options!glossaries}     & false & Load the \stmlatexpackagelink{stmglossaries} package\\
%   index          \stmindex{Options!index}          & false & Load the \stmlatexpackagelink{stmindex} package\\
%   hyperref       \stmindex{Options!hyperref}       & true  & Load the \texttt{stmhyperrefsetup} package\\
%   listings       \stmindex{Options!listings}       & false & Load the \stmlatexpackagelink{stmlistings} package\\
%   math           \stmindex{Options!math}           & false & Load the \stmlatexpackagelink{stmmath} package\\
%   plots          \stmindex{Options!plots}          & false & Load the \stmlatexpackagelink{stmplots} package\\
%   tikz           \stmindex{Options!tikz}           & false & Load the \stmlatexpackagelink{stmtikz} package\\
%   units          \stmindex{Options!units}          & false & Load the \texttt{stmunits} package\\
%   \bottomrule
%   \end{longtabu}%
% \end{table}
% \endgroup

\begin{filecontents}{\tabledir\jobname-optionsbool.tex}
\begin{longtable}{@{}>{\ttfamily}l>{\ttfamily}cX@{}}
% Captions
\caption{Boolean class options}\\
\label{tab:options:boolean}\\
% ---------------------------
% Header & Footer
% ---------------------------
%
% Header
% -----------------
% 1st head
\toprule
\multicolumn{1}{c}{Key} & \rmfamily{Default value} & \multicolumn{1}{c}{Description}\\
\midrule
\endfirsthead
% Last head
\multicolumn{3}{@{}l}{\ldots continued}\\
\toprule
\multicolumn{1}{c}{Key} & \rmfamily{Default value} & \multicolumn{1}{c}{Description}\\
\midrule
\endhead
%
% Footer
% -----------------
% n-th foot
\bottomrule
\multicolumn{3}{r@{}}{continued \ldots}\\
\endfoot
% last foot
\bottomrule
\endlastfoot
% ---------------------------
% Content
% ---------------------------
attachfile     \stmindex{Options!attachfile}     & false & Load the \texttt{attachfile} package at the correct position relative to \texttt{stmhyperref}\\
cleverref      \stmindex{Options!cleverref}      & false & Load the \texttt{cleverref} package at the correct position relative to \texttt{stmhyperref}\\
color          \stmindex{Options!color}          & true  & Load the \stmlatexpackagelink{stmcolors} package\\
conditionallox \stmindex{Options!conditionallox} & true  & Load the \stmlatexpackagelink{stmconditionallox} package\\
conditionalloxnewpage \stmindex{Options!conditionalloxnewpage} & true & Set the value of the \texttt{newpage} option in the \texttt{stmconditionallox} package\\
date           \stmindex{Options!date}           & false & Load the \stmlatexpackagelink{stmdate} package\\
glossaries     \stmindex{Options!glossaries}     & false & Load the \stmlatexpackagelink{stmglossaries} package\\
index          \stmindex{Options!index}          & false & Load the \stmlatexpackagelink{stmindex} package\\
hyperref       \stmindex{Options!hyperref}       & true  & Load the \texttt{stmhyperrefsetup} package\\
listings       \stmindex{Options!listings}       & false & Load the \stmlatexpackagelink{stmlistings} package\\
math           \stmindex{Options!math}           & false & Load the \stmlatexpackagelink{stmmath} package\\
plots          \stmindex{Options!plots}          & false & Load the \stmlatexpackagelink{stmplots} package\\
tikz           \stmindex{Options!tikz}           & false & Load the \stmlatexpackagelink{stmtikz} package\\
units          \stmindex{Options!units}          & false & Load the \texttt{stmunits} package\\
\end{longtable}
\end{filecontents}

\begingroup
\LTXtable{\linewidth}{\tabledir\jobname-optionsbool.tex}
\endgroup

\paragraph{String options}

These options have strings as values. Possible arguments are listed. The default is underlined.

\begin{table}[htbp]
  \caption{String class options}
  \label{tab:options:string}
  \begin{longtabu} to \linewidth {>{\ttfamily}l>{\ttfamily}cX}
  \toprule
  %Name & Default & Description\\
  \multicolumn{1}{c}{Key} & \multicolumn{1}{c}{Values} & \multicolumn{1}{c}{Description}\\
  \midrule
  language \stmindex{Options!language} & german|\underline{english}      & Document language, Load the \texttt{stmlanguage} package with this option \\
  layout   \stmindex{Options!layout}   & standard|dlr|\underline{koma}     & Document layout\\
  type     \stmindex{Options!type}     & article|\underline{report}|book & Base document type\\
  \bottomrule
  \end{longtabu}%
\end{table}

The following options are only available for \texttt{layout=dlr} which uses the \rmlatexname based document classes.

\begin{table}[htbp]
  \caption{Additional string class options for \protect\texttt{layout=dlr}}
  \label{tab:options:string:dlr}
  \begin{longtabu} to \linewidth {>{\ttfamily}l>{\ttfamily}cX}
  \toprule
  %Name & Default & Description\\
  \multicolumn{1}{c}{Key} & \multicolumn{1}{c}{Values} & \multicolumn{1}{c}{Description}\\
  \midrule
  institute \stmindex{Options!institute} & \underline{FA-STM}     & See the \href{\rmlatexurl}{\rmlatexname} documentation for alternatives\\
  site      \stmindex{Options!site}      & \underline{BS}         & See the \href{\rmlatexurl}{\rmlatexname} documentation for alternatives\\
  \bottomrule
  \end{longtabu}%
\end{table}

\levelstay{Option \protect\texttt{attachfile}}
\label{sec:options:attachfile}
\stmindex{Options!attachfile}

The package \ctanpackagelink{attachfile} is one of the packages that has to be loaded at a specific relative position to \ctanpackagelink{hyperref}. Thus, this option is only relevant in case the \nameref{sec:options:hyperref} from \cref{sec:options:hyperref} is used.

\levelstay{Option \protect\texttt{cleveref}}
\label{sec:options:cleveref}
\stmindex{Options!cleveref}

The package \ctanpackagelink{cleveref} is one of the packages that has to be loaded at a specific relative position to \ctanpackagelink{hyperref}. Thus, this option is only relevant in case the \nameref{sec:options:hyperref} from \cref{sec:options:hyperref} is used.

\levelstay{Option \protect\texttt{color}}
\stmindex{Options!color}

\levelstay{Option \protect\texttt{conditionallox}}
\stmindex{Options!conditionallox}

In case the option \texttt{conditionallox} is used, the document has to be compiled at least three times.

\levelstay{Option \protect\texttt{conditionalloxnewpage}}
\stmindex{Options!conditionalloxnewpage}

\levelstay{Option \protect\texttt{date}}
\stmindex{Options!date}

\levelstay{Option \protect\texttt{glossaries}}
\stmindex{Options!glossaries}

Setting \texttt{glossaries=true} loads the \stmlatexpackagelink{stmglossaries}. Thus, the user is able to use the glossary entries from the package as described in the package documentation.

In case the \ctanpackagelink{arara} package is used for the build automation of the \LaTeX{} document, add
\begin{lstlisting}[
  style=texcodestyle
]
arara: makeglossaries
\end{lstlisting}

in the build automation part of your preamble. That way, the glossaries are automatically compiled during your document creation.

For the glossaries to show up in your document, simply place the commands to print the glossary entries of your choice at the location in your document where you want them to show up, e.g.

\begin{lstlisting}[
  style=texcodestyle
]
\printstmacronyms

\printstmscalarglossary
\printstmvectorglossary
\printstmmatrixglossary
\printstmstateglossary
\printstmindexglossary
\printstmexponentglossary
\printstmoperatorglossary
\end{lstlisting}

or

\begin{lstlisting}[
  style=texcodestyle
]
\printstmacronyms
\printallstmglossaries
\end{lstlisting}

In case no entries are defined, the lists are simply omitted in your document.%\gls{acr:DOI}.

\levelstay{Option \protect\texttt{index}}
\stmindex{Options!index}

\levelstay{Option \protect\texttt{institute}}
\stmindex{Options!institute}

\levelstay{Option \protect\texttt{hyperref}}
\label{sec:options:hyperref}
\stmindex{Options!hyperref}

https://tex.stackexchange.com/a/26592

\levelstay{Option \protect\texttt{language}}
\stmindex{Options!language}

\levelstay{Option \protect\texttt{layout}}
\label{sec:options:layout}
\stmindex{Options!layout}

\levelstay{Option \protect\texttt{listings}}
\stmindex{Options!listings}

\levelstay{Option \protect\texttt{math}}
\stmindex{Options!math}

\levelstay{Option \protect\texttt{plots}}
\stmindex{Options!plots}

\levelstay{Option \protect\texttt{site}}
\stmindex{Options!site}

\levelstay{Option \protect\texttt{tikz}}
\stmindex{Options!tikz}

\levelstay{Option \protect\texttt{type}}
\label{sec:options:type}
\stmindex{Options!type}

\levelstay{Option \protect\texttt{units}}
\stmindex{Options!units}

\levelstay{Other options}

All other options are passed to the underlying document class. Thus, it has to be made sure that the underlying document class understands these options. At this point, switching the argument in the \nameref{sec:options:layout} may lead to problems in case the options is specific to a document class.

\setcounter{currentlevel}{\basetoclevelnr}
\levelstay{Usage}
\label{sec:usage}
\stmindex{Usage}

\leveldown{\protect\texttt{type}-independent document structure}

\href{https://ctan.org/tex-archive/macros/latex/contrib/coseoul}{coseoul} package

\printstmacronyms

\printstmindex

\newpage
\appendix

\section{The code}

\subsection{stmtext.cls}

\lstinputlisting[
  style=texpackagedocstyle,%
]{../../tex/latex/stmtext/stmtext.cls}

\end{document}
